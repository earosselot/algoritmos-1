#include "../definiciones.h"
#include "../Funciones_TPI.h"
#include "../ejercicios.h"
#include "gtest/gtest.h"
#include <iostream>
#include <string>
#include "../auxiliares.h"

using namespace std;


TEST(ordenarRegionYCODUSUTEST, regionesDistintas) {
    // Region
    eph_h th = {                 // v
            {334, 2017, 1, 1, 2, 0, 41, 3, 1, 2},
            {960, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
    };

    eph_i ti = {
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {960, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {960, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6}
    };

    eph_h th_esperado = {
            {960, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {334, 2017, 1, 1, 2, 0, 41, 3, 1, 2},
    };

    eph_i ti_esperado = {
            {960, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
            {960, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
    };


    ordenarRegionYCODUSU(th, ti);
    EXPECT_EQ(th_esperado, th);
    EXPECT_EQ(ti_esperado, ti);
}


TEST(ordenarRegionYCODUSUTEST, mismaRegion) {
    // Region
    eph_h th = {                 // v
            {334, 2017, 1, 1, 2, 0, 1, 3, 1, 2},
            {960, 2017, 1, 1, 1, 0, 1, 4, 1, 2},
            {650, 2017, 1, 1, 1, 0, 1, 4, 1, 2},
    };

    eph_i ti = {
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {650, 2017, 2, 1, 1, 2, 34, 1, 4, 14323, 1},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {650, 2017, 1, 1, 1, 2, 23, 1, 4, 0,     1},
            {960, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {960, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},

    };

    eph_h th_esperado = {
            {334, 2017, 1, 1, 2, 0, 1, 3, 1, 2},
            {650, 2017, 1, 1, 1, 0, 1, 4, 1, 2},
            {960, 2017, 1, 1, 1, 0, 1, 4, 1, 2},
    };

    eph_i ti_esperado = {
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {650, 2017, 1, 1, 1, 2, 23, 1, 4, 0,     1},
            {650, 2017, 2, 1, 1, 2, 34, 1, 4, 14323, 1},
            {960, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
            {960, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
    };


    ordenarRegionYCODUSU(th, ti);
    EXPECT_EQ(th_esperado, th);
    EXPECT_EQ(ti_esperado, ti);
}


TEST(ordenarRegionYCODUSUTEST, muchasRegiones) {
    // Region
    eph_h th = {                 // v
            {334, 2017, 1, 1, 2, 0, 40, 3, 1, 2},
            {123, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {747, 2017, 1, 1, 1, 0, 44, 4, 1, 2},
            {457, 2017, 1, 1, 1, 0, 42, 4, 1, 2},
            {954, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {347, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
    };

    eph_i ti = {
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {123, 2017, 2, 1, 1, 2, 34, 1, 4, 14323, 1},
            {747, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {457, 2017, 1, 1, 1, 2, 23, 1, 4, 0,     1},
            {954, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {347, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
    };

    eph_h th_esperado = {
            {123, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {334, 2017, 1, 1, 2, 0, 40, 3, 1, 2},
            {347, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {954, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {457, 2017, 1, 1, 1, 0, 42, 4, 1, 2},
            {747, 2017, 1, 1, 1, 0, 44, 4, 1, 2},
    };

    eph_i ti_esperado = {
            {123, 2017, 2, 1, 1, 2, 34, 1, 4, 14323, 1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {347, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
            {954, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {457, 2017, 1, 1, 1, 2, 23, 1, 4, 0,     1},
            {747, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
    };


    ordenarRegionYCODUSU(th, ti);
    EXPECT_EQ(th_esperado, th);
    EXPECT_EQ(ti_esperado, ti);
}


TEST(ordenarRegionYCODUSUTEST, ordenadosAlReves) {
    // Region
    eph_h th = {                 // v
            {747, 2017, 1, 1, 1, 0, 44, 4, 1, 2},
            {457, 2017, 1, 1, 1, 0, 42, 4, 1, 2},
            {954, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {347, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {334, 2017, 1, 1, 2, 0, 40, 3, 1, 2},
            {123, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
    };

    eph_i ti = {
            {747, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {457, 2017, 1, 1, 1, 2, 23, 1, 4, 0,     1},
            {954, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {347, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {123, 2017, 2, 1, 1, 2, 34, 1, 4, 14323, 1},
    };

    eph_h th_esperado = {
            {123, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {334, 2017, 1, 1, 2, 0, 40, 3, 1, 2},
            {347, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {954, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {457, 2017, 1, 1, 1, 0, 42, 4, 1, 2},
            {747, 2017, 1, 1, 1, 0, 44, 4, 1, 2},
    };

    eph_i ti_esperado = {
            {123, 2017, 2, 1, 1, 2, 34, 1, 4, 14323, 1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {347, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
            {954, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {457, 2017, 1, 1, 1, 2, 23, 1, 4, 0,     1},
            {747, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
    };


    ordenarRegionYCODUSU(th, ti);
    EXPECT_EQ(th_esperado, th);
    EXPECT_EQ(ti_esperado, ti);
}


TEST(ordenarRegionYCODUSUTEST, ordenadosPreviamente) {
    // Region
    eph_h th = {                 // v
            {123, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {334, 2017, 1, 1, 2, 0, 40, 3, 1, 2},
            {347, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {954, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {457, 2017, 1, 1, 1, 0, 42, 4, 1, 2},
            {747, 2017, 1, 1, 1, 0, 44, 4, 1, 2},
    };

    eph_i ti = {
            {123, 2017, 2, 1, 1, 2, 34, 1, 4, 14323, 1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {347, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
            {954, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {457, 2017, 1, 1, 1, 2, 23, 1, 4, 0,     1},
            {747, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
    };

    eph_h th_esperado = {
            {123, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {334, 2017, 1, 1, 2, 0, 40, 3, 1, 2},
            {347, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {954, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {457, 2017, 1, 1, 1, 0, 42, 4, 1, 2},
            {747, 2017, 1, 1, 1, 0, 44, 4, 1, 2},
    };

    eph_i ti_esperado = {
            {123, 2017, 2, 1, 1, 2, 34, 1, 4, 14323, 1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {347, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
            {954, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {457, 2017, 1, 1, 1, 2, 23, 1, 4, 0,     1},
            {747, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
    };


    ordenarRegionYCODUSU(th, ti);
    EXPECT_EQ(th_esperado, th);
    EXPECT_EQ(ti_esperado, ti);
}


TEST(ordenarRegionYCODUSUTEST, thTiVacios) {
    // Region
    eph_h th = {};

    eph_i ti = {};

    eph_h th_esperado = {};

    eph_i ti_esperado = {};


    ordenarRegionYCODUSU(th, ti);
    EXPECT_EQ(th_esperado, th);
    EXPECT_EQ(ti_esperado, ti);
}

TEST(ordenarRegionYCODUSUTEST, thVacio) {
    // Region
    eph_h th = {};

    eph_i ti = {
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {960, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {960, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
    };

    eph_h th_esperado = {};

    eph_i ti_esperado = {
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {960, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {960, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
    };


    ordenarRegionYCODUSU(th, ti);
    EXPECT_EQ(th_esperado, th);
    EXPECT_EQ(ti_esperado, ti);
}

TEST(ordenarRegionYCODUSUTEST, tiVacio) {
    // Region
    eph_h th = {                 // v
            {334, 2017, 1, 1, 2, 0, 40, 3, 1, 2},
            {123, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {747, 2017, 1, 1, 1, 0, 44, 4, 1, 2},
            {457, 2017, 1, 1, 1, 0, 42, 4, 1, 2},
            {954, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {347, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
    };

    eph_i ti = {};

    eph_h th_esperado = {
            {123, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {334, 2017, 1, 1, 2, 0, 40, 3, 1, 2},
            {347, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {954, 2017, 1, 1, 1, 0, 41, 4, 1, 2},
            {457, 2017, 1, 1, 1, 0, 42, 4, 1, 2},
            {747, 2017, 1, 1, 1, 0, 44, 4, 1, 2},
    };

    eph_i ti_esperado = {};


    ordenarRegionYCODUSU(th, ti);
    EXPECT_EQ(th_esperado, th);
    EXPECT_EQ(ti_esperado, ti);
}


TEST(ordenarRegionYCODUSUTEST, elementosRepetidos) {
    // Region
    eph_h th = {                 // v
            {334, 2017, 1, 1, 2, 0, 41, 3, 1, 2},
            {334, 2017, 1, 1, 2, 0, 41, 3, 1, 2},
            {960, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {960, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
    };

    eph_i ti = {
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {960, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {960, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
    };

    eph_h th_esperado = {
            {960, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {960, 2017, 1, 1, 1, 0, 1,  4, 1, 2},
            {334, 2017, 1, 1, 2, 0, 41, 3, 1, 2},
            {334, 2017, 1, 1, 2, 0, 41, 3, 1, 2},
    };

    eph_i ti_esperado = {
            {960, 2017, 1, 1, 0, 2, 19, 0, 0, 0,     6},
            {960, 2017, 2, 1, 0, 2, 20, 1, 3, 7000,  1},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {960, 2017, 3, 1, 1, 2, 51, 1, 4, 1280,  1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
            {334, 2017, 1, 1, 0, 1, 36, 1, 3, 16300, 1},
    };


    ordenarRegionYCODUSU(th, ti);
    EXPECT_EQ(th_esperado, th);
    EXPECT_EQ(ti_esperado, ti);
}
